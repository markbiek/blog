{
	"version": "https://jsonfeed.org/version/1",
	"title": "Mark Biek - Blog",
	"home_page_url": "https://mark.biek.org/",
	"feed_url": "https://mark.biek.org//rss/feed.json",
	"icon": "https://static.biek.org/blog/img/mark-in-code.png",
	"author": {
		"name": "Mark Biek",
		"url": "https://mark.biek.org/"
	},
	"items": [
		{
			"id": "https://mark.biek.org//2023/05/lets-talk-about-ai",
			"content_html": "<h3>Let's talk about AI</h3>\n<p>Obviously AI chat bots (like ChatGPT, Bing AI, Google Bard, etc) are the hotness for 2023. There's a lot of discussion about the ways AI is going to affect work, education, and society at large.</p>\n<p>Will it help bridge the divides created by the Internet and social media? Or will it just make things worse? Are jobs going to disappear because of AI? If so, which jobs? Will software development become a thing of the past? How will AI transform education (or not)?</p>\n<h3>AI in Education</h3>\n<p>The article <a href=\"https://biblioracle.substack.com/p/chatgpt-cant-kill-anything-worth\">ChatGPT Can't Kill Anything Worth Preserving</a> is my favorite take on ChatGPT in education. Please go and read this article, then go back and read it again.</p>\n<p>The short version is, if your students can do entire assignments you've given them using ChatGPT, you're assigning crappy assignments. That said, we want to be careful and intentional about <em>how</em> we let AI do things for us.</p>\n<p>While I find Paul Graham to be hit or miss (love his <a href=\"https://paulgraham.com/writing44.html\">stuff on writing</a>), I definitely think this <a href=\"https://twitter.com/paulg/status/1655925905527537666\">Twitter thread</a> brings up a lot of important points about AI and writing.</p>\n<p>If you don't want to read the whole thread, just read this quote:</p>\n<blockquote>\n<p>I'm not warning about the switch to AI in the hope of averting it, but to warn the few people who care enough to save themselves, or their kids. Learn to use AI. It's a powerful technology, and you should know how to use it. But also learn how to write.</p>\n</blockquote>\n<p>I think ChatGPT and its ilk have the power to radically transform education for the better. I don't know of a single teenager who adores school anymore. Maybe these new tools can take away the busy-work they get buried in and let them get back to the joy and process of learning.</p>\n<p>The question is, how can we fit new tools like AI into a broken and underfunded education system? My fear is that these tools will only be used by the schools with the most money. In the US, that means that private schools will reap the benefits long before public schools and only widen the education gap.</p>\n<h3>Bing Search</h3>\n<p>Microsoft <a href=\"https://blogs.microsoft.com/blog/2023/02/07/reinventing-search-with-a-new-ai-powered-microsoft-bing-and-edge-your-copilot-for-the-web/\">announced</a> a new AI-powered version of Bing and the initial reviews of it are a bit...unhinged.</p>\n<ul>\n<li><a href=\"https://simonwillison.net/2023/Feb/15/bing/\">Bing: \"I will not harm you unless you harm me first\"</a>.</li>\n<li><a href=\"https://dkb.blog/p/bing-ai-cant-be-trusted\">Bing AI Can't be Trusted</a></li>\n</ul>\n<p>The short version is that Bing just makes stuff up. It takes all of this information from different sources and uses to answer questions with total nonsense. To be fair, ChatGPT can and does do the same thing. But ChatGPT isn't posing as <strong>A SEARCH ENGINE</strong>.</p>\n<p>On the surface, some of Bing AI's behavior is funny but the thought of people using it to, say, <a href=\"https://dkb.blog/i/102643499/gap-financial-statement-summary\">get financial information</a> (or political details or anything of important) is terrifying.</p>\n<p>Most of the people using this are going to take the information from different AI-powered systems as absolute fact. As AI generated video gets better and better, this has far reaching and dangerous consequences for news media. In the end, my biggest fear is that this just becomes another avenue (or maybe THE avenue) for dangerous, false information to spread online.</p>\n<p>It's not all doom and gloom though. When used properly, things like ChatGPT can definitely be a productivity multiplier.</p>\n<h2>Recent things I've used ChatGPT for</h2>\n<p>I don't think that AI is going to do away with software development. But I <em>do</em> think that software developers who know how to leverage AI are going to have an advantage in the job market. Just like good Internet searches are a skill, so is writing good ChatGPT prompts.</p>\n<p>It'll be interesting to see how this changes the shape of <em>learning</em> software development though. I think AI will be a great learning resource. But, like anything else, be careful that you're not using AI as too much of a crutch. Use it to augment and refine what you're learning, but make sure you're still learning all the core concepts.</p>\n<p>Here are a handful of things, personal and professional, that ChatGPT was super helpful with.</p>\n<h3>A dice roller</h3>\n<p>It's slow-ish but, in a pinch, you can ask ChatGPT to roll dice for you.</p>\n<pre><code>> üßç Can you be a dice roller?\n> ü§ñ Yes, I can be a virtual dice roller. What kind of dice would you like me to roll for you?\n> üßç 3d8\n> ü§ñ Certainly! Here are your 3 rolls of an 8-sided die:\n> ü§ñ Roll 1: 6\n> ü§ñ Roll 2: 2\n> ü§ñ Roll 3: 8\n</code></pre>\n<p>I won't try to speak to how good the randomness is. It's probably insufficient for anything security-related but should be fine for a game.</p>\n<h3>Automation script using simple-git and Inquirer.js.</h3>\n<p>I needed to write an automation script using <a href=\"https://github.com/simple-git-js/simple-git\">simple-git</a> (for git operations) and <a href=\"https://github.com/SBoudrias/Inquirer.js\">Inquirer.js</a> (for nice user prompts).</p>\n<pre><code>> üßç Can you read the documentation for the libraries https://github.com/simple-git-js/simple-git and https://github.com/SBoudrias/Inquirer.js?\n> ü§ñ Yes, I can read the documentation for those libraries. Would you like me to provide you with a summary or answer any specific questions?\n> üßç I have specific questions.\n> ü§ñ Please go ahead and ask your questions.\n> üßç How would I use simple-git to check the git status of the current directory?\n</code></pre>\n<p>The first response was accurate (and useful) because it broke down the steps of creating a new simple-git instance and calling <code>git.status</code>. The only problem was that it used Promises and callbacks.</p>\n<p>So then I asked</p>\n<pre><code>> üßç Can you rewrite that using async/await?\n> ü§ñ Sure! Here's how you can use async/await to check the git status of the current directory using the simple-git library:\n</code></pre>\n<pre><code>const simpleGit = require('simple-git');\n\nasync function getStatus() {\n  try {\n    const git = simpleGit();\n    const status = await git.status();\n    console.log(status);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\ngetStatus();\n</code></pre>\n<p>I kept periodically asking ChatGPT to provide code snippets of various actions using the two libraries. It often forgot that I wanted <code>async/await</code> code or that I was using ESM (<code>import whatever from 'whatever'</code>) instead of CommonJS (<code>const whatever = require('whatever')</code>) but I either asked it to rewrite the code or just tweaked it myself.</p>\n<p>There were a number of cases where I didn't like the code it generated and refactored it or wrote it differently. Either way, it still saved me a ton of time trying to figure out how to use the libraries.</p>\n<h3>Comparing raw tables of data.</h3>\n<p>I had two spreadsheets of pricing data for different currencies that I need to compare and double-check. I was concerned about duplicate rows and mismatched values. As an added bonus, I didn't even have to format the data. I just copied straight from Google Sheets into ChatGPT.</p>\n<p>In reality, these spreadsheets were quite large but I can demonstrate how ChatGPT helped using a smaller dataset.</p>\n<pre><code>> üßç I'm going to give you a table of currencies and prices\n> \n> üßç currency,price\n> üßç AUD,100\n> üßç EUR,200\n> üßç USD,300\n>\n> ü§ñ Thank you for providing me with the table of currencies and prices. Is there anything specific you would like me to do with this information, or do you have any questions regarding currencies and exchange rates?\n> \n> üßç I'm going to give you another table. Can you tell me if all the prices for each currency match the first table?\n> \n> üßç currency,price\n> üßç USD 400\n> üßç USD 300\n> üßç EUR 200\n> üßç AUD 100\n>\n> ü§ñ Sure. Here's a comparison of the two tables. As we can see, the prices for AUD and EUR match in both tables, but the prices for USD differ. In the first table, the price for USD is 300, whereas in the second table, there are two prices for USD, 300 and 400.\n</code></pre>\n<h3>Writing TypeScript stuff.</h3>\n<p>My TypeScript knowledge is OK but not great. I've found a number of cases where ChatGPT gave me better answers than a regular Internet search.</p>\n<pre><code>> üßç Let's say I have this type\n> üßç export type MaximumFootnotes = '1' | '2' | '3' | '4' | '5';\n> üßç How can I make a new object type that only allows keys that are the values in MaximumFootnotes but doesn't require all of them?\n> \n> ü§ñ Here's an example of how you can define a new object type MyFootnotes that allows keys that are values in MaximumFootnotes, but doesn't require all of them:\n</code></pre>\n<pre><code>export type MaximumFootnotes = '1' | '2' | '3' | '4' | '5';\n\ntype MyFootnotes = {\n  [key in MaximumFootnotes]?: string;\n};\n</code></pre>\n<h3>Generating repeated blocks of code.</h3>\n<p>This is something that Github CoPilot does well with sometimes. My only complaint there is it often takes a while for Github Copilot to figure out what I'm doing.</p>\n<p>As an experiment, I tried using ChatGPT to do it in the following manner</p>\n<pre><code>> üßç I'm going to give you a list of Javascript constants. For each constant, give me code with the following structure and use the comment at the end of the line as the return value for the getTitle function\n</code></pre>\n<pre><code>export [ MY_CONSTANT ]: {\n\tgetConstant: () => MY_CONSTANT,\n\tgetTitle: () => translate('TITLE'),\n}\n</code></pre>\n<pre><code>> ü§ñ Sure, I'd be happy to help you with that. Please provide me with the list of Javascript constants.\n</code></pre>\n<pre><code>export const FOO = 'foo'; // This is foo\nexport const BAR = 'bar'; // This is bar\nexport const BAZ = 'baz'; // This is baz\n</code></pre>\n<pre><code>> ü§ñ Here is the code structure you requested for the given constants:\n</code></pre>\n<pre><code>export [ FOO ]: {\n\tgetConstant: () => FOO,\n\tgetTitle: () => translate('This is foo'),\n}\nexport [ BAR ]: {\n\tgetConstant: () => BAR,\n\tgetTitle: () => translate('This is bar'),\n}\nexport [ BAZ ]: {\n\tgetConstant: () => BAZ,\n\tgetTitle: () => translate('This is baz'),\n}\n</code></pre>\n<pre><code>> üßç Now give me the Javascript import statement for all of the constants.\n>\n> ü§ñ Sure, here's the import statement for all the constants:\n</code></pre>\n<pre><code>import {\n\tFOO,\n\tBAR,\n\tBAZ\n} from './constants';\n</code></pre>\n<h3>Generating a triage schedule.</h3>\n<p>We needed a schedule for my team where each person was in charge of triaging incoming issues for two weeks.</p>\n<pre><code>> üßç I'm going to give you a comma-separated list of names. Please put the list in random order starting with Mark and ending with Alice?\n> Mark, Alice, Beth, Charlie, David, Eddie\n>\n> ü§ñ Sure, here are the names in a randomized order starting with Mark and ending with Alice:\n> ü§ñ Mark, Beth, David, Eddie, Charlie, Alice.\n>\n> üßç Using that order, give me a 6 month schedule where each person is in charge for two week.\n>\n> ü§ñ Sure, here is a 6-month schedule starting with Mark and ending with Alice, where each person is in charge for two weeks:\n> ü§ñ Mar 27 - Apr 9: Mark\n> ü§ñ Apr 10 - Apr 23: Beth\n> ü§ñ Apr 24 - May 7: David\n> ü§ñ May 8 - May 21: Eddie\n> ü§ñ May 22 - Jun 4: Charlie\n> ü§ñ Jun 5 - Jun 18: Alice\n> ü§ñ Jun 19 - Jul 2: Mark\n> ü§ñ Jul 3 - Jul 16: Beth\n> ü§ñ Jul 17 - Jul 30: David\n> ü§ñ Jul 31 - Aug 13: Eddie\n> ü§ñ Aug 14 - Aug 27: Charlie\n> ü§ñ Aug 28 - Sep 10: Beth\n</code></pre>\n<h3>SQL queries.</h3>\n<p>I have a personal project that's a web-based image gallery. Images can be assigned any number of tags. I've been working on a feature that lets you query all images that have one or more tags (eg <code>/tags/pets+cute</code>) and was feeling lazy coming up with the SQL query.</p>\n<pre><code>> üßç Write a sql query which shows all images that have all of the specified tag ids.\n>\n> ü§ñ To find all images that have all of the specified tag IDs, you can use the following query:\n</code></pre>\n<pre><code>SELECT i.*\nFROM images i\nJOIN image_tags it ON i.id = it.image_id\nWHERE it.tag_id IN (tag_id_1, tag_id_2, ..., tag_id_n)\nGROUP BY i.id\nHAVING COUNT(*) = n\n</code></pre>\n",
			"url": "https://mark.biek.org//2023/05/lets-talk-about-ai",
			"title": "Let's Talk About AI",
			"summary": "<h3>Let's talk about AI</h3>\n<p>Obviously AI chat bots (like ChatGPT, Bing AI, Google Bard, etc) are the hotness for 2023. There's a lot of discussion about the ways AI is going to affect work, education, and society at large.</p>\n<p>Will it help bridge the divides created by the Internet and social media? Or will it just make things worse? Are jobs going to disappear because of AI? If so, which jobs? Will software development become a thing of the past? How will AI transform education (or not)?</p>\n<h3>AI in Education</h3>\n<p>The article <a href=\"https://biblioracle.substack.com/p/chatgpt-cant-kill-anything-worth\">ChatGPT Can't Kill Anything Worth Preserving</a> is my favorite take on ChatGPT in education. Please go and read this article, then go back and read it again.</p>\n<p>The short version is, if your students can do entire assignments you've given them using ChatGPT, you're assigning crappy assignments. That said, we want to be careful and intentional about <em>how</em> we let AI do things for us.</p>\n<p>While I find Paul Graham to be hit or miss (love his <a href=\"https://paulgraham.com/writing44.html\">stuff on writing</a>), I definitely think this <a href=\"https://twitter.com/paulg/status/1655925905527537666\">Twitter thread</a> brings up a lot of important points about AI and writing.</p>\n<p>If you don't want to read the whole thread, just read this quote:</p>\n<blockquote>\n<p>I'm not warning about the switch to AI in the hope of averting it, but to warn the few people who care enough to save themselves, or their kids. Learn to use AI. It's a powerful technology, and you should know how to use it. But also learn how to write.</p>\n</blockquote>\n<p>I think ChatGPT and its ilk have the power to radically transform education for the better. I don't know of a single teenager who adores school anymore. Maybe these new tools can take away the busy-work they get buried in and let them get back to the joy and process of learning.</p>\n<p>The question is, how can we fit new tools like AI into a broken and underfunded education system? My fear is that these tools will only be used by the schools with the most money. In the US, that means that private schools will reap the benefits long before public schools and only widen the education gap.</p>\n<h3>Bing Search</h3>\n<p>Microsoft <a href=\"https://blogs.microsoft.com/blog/2023/02/07/reinventing-search-with-a-new-ai-powered-microsoft-bing-and-edge-your-copilot-for-the-web/\">announced</a> a new AI-powered version of Bing and the initial reviews of it are a bit...unhinged.</p>\n<ul>\n<li><a href=\"https://simonwillison.net/2023/Feb/15/bing/\">Bing: \"I will not harm you unless you harm me first\"</a>.</li>\n<li><a href=\"https://dkb.blog/p/bing-ai-cant-be-trusted\">Bing AI Can't be Trusted</a></li>\n</ul>\n<p>The short version is that Bing just makes stuff up. It takes all of this information from different sources and uses to answer questions with total nonsense. To be fair, ChatGPT can and does do the same thing. But ChatGPT isn't posing as <strong>A SEARCH ENGINE</strong>.</p>\n<p>On the surface, some of Bing AI's behavior is funny but the thought of people using it to, say, <a href=\"https://dkb.blog/i/102643499/gap-financial-statement-summary\">get financial information</a> (or political details or anything of important) is terrifying.</p>\n<p>Most of the people using this are going to take the information from different AI-powered systems as absolute fact. As AI generated video gets better and better, this has far reaching and dangerous consequences for news media. In the end, my biggest fear is that this just becomes another avenue (or maybe THE avenue) for dangerous, false information to spread online.</p>\n<p>It's not all doom and gloom though. When used properly, things like ChatGPT can definitely be a productivity multiplier.</p>\n<h2>Recent things I've used ChatGPT for</h2>\n<p>I don't think that AI is going to do away with software development. But I <em>do</em> think that software developers who know how to leverage AI are going to have an advantage in the job market. Just like good Internet searches are a skill, so is writing good ChatGPT prompts.</p>\n<p>It'll be interesting to see how this changes the shape of <em>learning</em> software development though. I think AI will be a great learning resource. But, like anything else, be careful that you're not using AI as too much of a crutch. Use it to augment and refine what you're learning, but make sure you're still learning all the core concepts.</p>\n<p>Here are a handful of things, personal and professional, that ChatGPT was super helpful with.</p>\n<h3>A dice roller</h3>\n<p>It's slow-ish but, in a pinch, you can ask ChatGPT to roll dice for you.</p>\n<pre><code>> üßç Can you be a dice roller?\n> ü§ñ Yes, I can be a virtual dice roller. What kind of dice would you like me to roll for you?\n> üßç 3d8\n> ü§ñ Certainly! Here are your 3 rolls of an 8-sided die:\n> ü§ñ Roll 1: 6\n> ü§ñ Roll 2: 2\n> ü§ñ Roll 3: 8\n</code></pre>\n<p>I won't try to speak to how good the randomness is. It's probably insufficient for anything security-related but should be fine for a game.</p>\n<h3>Automation script using simple-git and Inquirer.js.</h3>\n<p>I needed to write an automation script using <a href=\"https://github.com/simple-git-js/simple-git\">simple-git</a> (for git operations) and <a href=\"https://github.com/SBoudrias/Inquirer.js\">Inquirer.js</a> (for nice user prompts).</p>\n<pre><code>> üßç Can you read the documentation for the libraries https://github.com/simple-git-js/simple-git and https://github.com/SBoudrias/Inquirer.js?\n> ü§ñ Yes, I can read the documentation for those libraries. Would you like me to provide you with a summary or answer any specific questions?\n> üßç I have specific questions.\n> ü§ñ Please go ahead and ask your questions.\n> üßç How would I use simple-git to check the git status of the current directory?\n</code></pre>\n<p>The first response was accurate (and useful) because it broke down the steps of creating a new simple-git instance and calling <code>git.status</code>. The only problem was that it used Promises and callbacks.</p>\n<p>So then I asked</p>\n<pre><code>> üßç Can you rewrite that using async/await?\n> ü§ñ Sure! Here's how you can use async/await to check the git status of the current directory using the simple-git library:\n</code></pre>\n<pre><code>const simpleGit = require('simple-git');\n\nasync function getStatus() {\n  try {\n    const git = simpleGit();\n    const status = await git.status();\n    console.log(status);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\ngetStatus();\n</code></pre>\n<p>I kept periodically asking ChatGPT to provide code snippets of various actions using the two libraries. It often forgot that I wanted <code>async/await</code> code or that I was using ESM (<code>import whatever from 'whatever'</code>) instead of CommonJS (<code>const whatever = require('whatever')</code>) but I either asked it to rewrite the code or just tweaked it myself.</p>\n<p>There were a number of cases where I didn't like the code it generated and refactored it or wrote it differently. Either way, it still saved me a ton of time trying to figure out how to use the libraries.</p>\n<h3>Comparing raw tables of data.</h3>\n<p>I had two spreadsheets of pricing data for different currencies that I need to compare and double-check. I was concerned about duplicate rows and mismatched values. As an added bonus, I didn't even have to format the data. I just copied straight from Google Sheets into ChatGPT.</p>\n<p>In reality, these spreadsheets were quite large but I can demonstrate how ChatGPT helped using a smaller dataset.</p>\n<pre><code>> üßç I'm going to give you a table of currencies and prices\n> \n> üßç currency,price\n> üßç AUD,100\n> üßç EUR,200\n> üßç USD,300\n>\n> ü§ñ Thank you for providing me with the table of currencies and prices. Is there anything specific you would like me to do with this information, or do you have any questions regarding currencies and exchange rates?\n> \n> üßç I'm going to give you another table. Can you tell me if all the prices for each currency match the first table?\n> \n> üßç currency,price\n> üßç USD 400\n> üßç USD 300\n> üßç EUR 200\n> üßç AUD 100\n>\n> ü§ñ Sure. Here's a comparison of the two tables. As we can see, the prices for AUD and EUR match in both tables, but the prices for USD differ. In the first table, the price for USD is 300, whereas in the second table, there are two prices for USD, 300 and 400.\n</code></pre>\n<h3>Writing TypeScript stuff.</h3>\n<p>My TypeScript knowledge is OK but not great. I've found a number of cases where ChatGPT gave me better answers than a regular Internet search.</p>\n<pre><code>> üßç Let's say I have this type\n> üßç export type MaximumFootnotes = '1' | '2' | '3' | '4' | '5';\n> üßç How can I make a new object type that only allows keys that are the values in MaximumFootnotes but doesn't require all of them?\n> \n> ü§ñ Here's an example of how you can define a new object type MyFootnotes that allows keys that are values in MaximumFootnotes, but doesn't require all of them:\n</code></pre>\n<pre><code>export type MaximumFootnotes = '1' | '2' | '3' | '4' | '5';\n\ntype MyFootnotes = {\n  [key in MaximumFootnotes]?: string;\n};\n</code></pre>\n<h3>Generating repeated blocks of code.</h3>\n<p>This is something that Github CoPilot does well with sometimes. My only complaint there is it often takes a while for Github Copilot to figure out what I'm doing.</p>\n<p>As an experiment, I tried using ChatGPT to do it in the following manner</p>\n<pre><code>> üßç I'm going to give you a list of Javascript constants. For each constant, give me code with the following structure and use the comment at the end of the line as the return value for the getTitle function\n</code></pre>\n<pre><code>export [ MY_CONSTANT ]: {\n\tgetConstant: () => MY_CONSTANT,\n\tgetTitle: () => translate('TITLE'),\n}\n</code></pre>\n<pre><code>> ü§ñ Sure, I'd be happy to help you with that. Please provide me with the list of Javascript constants.\n</code></pre>\n<pre><code>export const FOO = 'foo'; // This is foo\nexport const BAR = 'bar'; // This is bar\nexport const BAZ = 'baz'; // This is baz\n</code></pre>\n<pre><code>> ü§ñ Here is the code structure you requested for the given constants:\n</code></pre>\n<pre><code>export [ FOO ]: {\n\tgetConstant: () => FOO,\n\tgetTitle: () => translate('This is foo'),\n}\nexport [ BAR ]: {\n\tgetConstant: () => BAR,\n\tgetTitle: () => translate('This is bar'),\n}\nexport [ BAZ ]: {\n\tgetConstant: () => BAZ,\n\tgetTitle: () => translate('This is baz'),\n}\n</code></pre>\n<pre><code>> üßç Now give me the Javascript import statement for all of the constants.\n>\n> ü§ñ Sure, here's the import statement for all the constants:\n</code></pre>\n<pre><code>import {\n\tFOO,\n\tBAR,\n\tBAZ\n} from './constants';\n</code></pre>\n<h3>Generating a triage schedule.</h3>\n<p>We needed a schedule for my team where each person was in charge of triaging incoming issues for two weeks.</p>\n<pre><code>> üßç I'm going to give you a comma-separated list of names. Please put the list in random order starting with Mark and ending with Alice?\n> Mark, Alice, Beth, Charlie, David, Eddie\n>\n> ü§ñ Sure, here are the names in a randomized order starting with Mark and ending with Alice:\n> ü§ñ Mark, Beth, David, Eddie, Charlie, Alice.\n>\n> üßç Using that order, give me a 6 month schedule where each person is in charge for two week.\n>\n> ü§ñ Sure, here is a 6-month schedule starting with Mark and ending with Alice, where each person is in charge for two weeks:\n> ü§ñ Mar 27 - Apr 9: Mark\n> ü§ñ Apr 10 - Apr 23: Beth\n> ü§ñ Apr 24 - May 7: David\n> ü§ñ May 8 - May 21: Eddie\n> ü§ñ May 22 - Jun 4: Charlie\n> ü§ñ Jun 5 - Jun 18: Alice\n> ü§ñ Jun 19 - Jul 2: Mark\n> ü§ñ Jul 3 - Jul 16: Beth\n> ü§ñ Jul 17 - Jul 30: David\n> ü§ñ Jul 31 - Aug 13: Eddie\n> ü§ñ Aug 14 - Aug 27: Charlie\n> ü§ñ Aug 28 - Sep 10: Beth\n</code></pre>\n<h3>SQL queries.</h3>\n<p>I have a personal project that's a web-based image gallery. Images can be assigned any number of tags. I've been working on a feature that lets you query all images that have one or more tags (eg <code>/tags/pets+cute</code>) and was feeling lazy coming up with the SQL query.</p>\n<pre><code>> üßç Write a sql query which shows all images that have all of the specified tag ids.\n>\n> ü§ñ To find all images that have all of the specified tag IDs, you can use the following query:\n</code></pre>\n<pre><code>SELECT i.*\nFROM images i\nJOIN image_tags it ON i.id = it.image_id\nWHERE it.tag_id IN (tag_id_1, tag_id_2, ..., tag_id_n)\nGROUP BY i.id\nHAVING COUNT(*) = n\n</code></pre>\n",
			"date_modified": "2023-05-03T18:13:18.000Z",
			"author": {
				"name": "Mark Biek",
				"url": "https://mark.biek.org/"
			}
		},
		{
			"id": "https://mark.biek.org//2022/12/learning-a-large-system",
			"content_html": "<p>Starting work in a large, existing system is very much like trying to find your way around a very dark and very cluttered warehouse.</p>\n<p>When you start, your flashlight is very small (if you even <em>have</em> a flashlight). You can only see tiny pieces of the room at a time. Nothing really makes sense and you have no sense of how any of the piles of clutter are related to each other.</p>\n<p>After spending some time poking around the warehouse, you get to upgrade your flashlight. You can start to see more swaths of the room and once and can even infer a little bit about how different piles work together. But this is where it gets tricky. It's easy to make false assumptions about the parts you're seeing when the reality is still hidden in the darkness.</p>\n<p>And the process continues like this as time goes by.</p>\n<p>You get bigger flashlights and can see more of the room.</p>\n<p>Spend enough time and you may even get to turn on some overhead lights.</p>\n<p>If the system isn't <em>too</em> huge, you may someday turn on all the lights and can see the whole room at once. But you may never get to that point if the system is massive enough.</p>\n<p>You may have a section of the room that you're most familiar with while someone else may know about other parts. This is great because then you can ask each other about what is in each pile of clutter.</p>\n<p>In that case, you and everyone else in the room has to rely on each other.</p>\n",
			"url": "https://mark.biek.org//2022/12/learning-a-large-system",
			"title": "Learning a Large System",
			"summary": "<p>Starting work in a large, existing system is very much like trying to find your way around a very dark and very cluttered warehouse.</p>\n<p>When you start, your flashlight is very small (if you even <em>have</em> a flashlight). You can only see tiny pieces of the room at a time. Nothing really makes sense and you have no sense of how any of the piles of clutter are related to each other.</p>\n<p>After spending some time poking around the warehouse, you get to upgrade your flashlight. You can start to see more swaths of the room and once and can even infer a little bit about how different piles work together. But this is where it gets tricky. It's easy to make false assumptions about the parts you're seeing when the reality is still hidden in the darkness.</p>\n<p>And the process continues like this as time goes by.</p>\n<p>You get bigger flashlights and can see more of the room.</p>\n<p>Spend enough time and you may even get to turn on some overhead lights.</p>\n<p>If the system isn't <em>too</em> huge, you may someday turn on all the lights and can see the whole room at once. But you may never get to that point if the system is massive enough.</p>\n<p>You may have a section of the room that you're most familiar with while someone else may know about other parts. This is great because then you can ask each other about what is in each pile of clutter.</p>\n<p>In that case, you and everyone else in the room has to rely on each other.</p>\n",
			"date_modified": "2022-12-01T18:18:00.000Z",
			"author": {
				"name": "Mark Biek",
				"url": "https://mark.biek.org/"
			}
		},
		{
			"id": "https://mark.biek.org//2022/07/advice-from-an-old-head",
			"content_html": "<p>After 25 years working as a software developer, I've been thinking a lot about the things that have been the most important over the course of my career. The interesting pattern I've noticed is that most of these things aren't unique to software development at all. You could easily apply them to just about anything.</p>\n<h1>Curiosity is your friend</h1>\n<ul>\n<li>Always wonder about things.</li>\n<li>Wonder how things work.</li>\n<li>Wonder <em>why</em> they work the way they do.</li>\n<li>Explore! Try to see things that other people aren't seeing.</li>\n</ul>\n<h1>Never stop learning</h1>\n<ul>\n<li>Fall in love with learning new things.</li>\n<li>Fall in love with learning more about things you already know.</li>\n<li>Get good at the process of learning so you can learn more things faster!</li>\n</ul>\n<h1>Communication is key</h1>\n<ul>\n<li>We don't do work in a vacuum. Being able to communicate your ideas to others is paramount.</li>\n<li>Learn to writing clearly and simply.\n<ul>\n<li>The <a href=\"https://fieldguide.automattic.com/the-automattic-style-guide/\">Automattic Style Guide</a> is a good compilation of resources.</li>\n</ul>\n</li>\n<li>\n<blockquote>\n<p>\"Programs are meant to be read by humans and only incidentally for computers to execute.\" - Donald Knuth</p>\n</blockquote>\n</li>\n</ul>\n<h1>Master your tools</h1>\n<ul>\n<li>Learn the ins and outs and full capabilities of your tools. Nothing makes work faster than efficient tool use.\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs\">Visual Studio Code docs</a></li>\n<li><a href=\"https://vimhelp.org/\">Vim help</a></li>\n</ul>\n</li>\n<li>Collect keyboard shortcuts for all the programs you use. Make it a game where you lose points when you touch the mouse. Write the shortcuts on post-its stuck to your monitor to help you remember.\n<ul>\n<li><a href=\"https://www.alfredapp.com/\">AlfredApp</a></li>\n<li><a href=\"https://support.apple.com/en-us/HT201236\">OSX shortcuts</a></li>\n</ul>\n</li>\n<li>Get good at the command-line. At a minimum, get comfortable manipulating files and strings from the cli.\n<ul>\n<li><a href=\"https://ubuntu.com/tutorials/command-line-for-beginners#1-overview\">Beginner's guide to the cli</a></li>\n</ul>\n</li>\n</ul>\n<h1>Get good at searching</h1>\n<p>There's to much stuff to remember so you're going to spend a lot of time trying to find what you need.</p>\n<h2>Searching for information</h2>\n<p>Get good at searching the Internet.</p>\n<ul>\n<li>You need to be able to track down the source of error messages.</li>\n<li>There will be things you don't know how to do and other people have already done them. Learn how to find those details!</li>\n</ul>\n<h2>Searching Code</h2>\n<p>How do you know where the code you need to change lives? You have to search for it!</p>\n<ul>\n<li>Your editor probably has all kinds of fancy search tools. Learn how to use them.</li>\n<li>Learn cli search tools (<code>grep</code>, <code>ack</code>, <code>ripgrep</code>, etc). There are lots of them.\n<ul>\n<li><a href=\"https://beyondgrep.com/\">ack</a></li>\n</ul>\n</li>\n<li>Learn enough regex to make your searches more efficient.\n<ul>\n<li><a href=\"https://regextutorial.org/\">Regex tutorial</a></li>\n</ul>\n</li>\n<li>Learn how to trace your way through code. Maybe you need to change the functionality of a button and you don't know where the code is. Start by finding where the button markup is, then trace your way back up through the code.</li>\n</ul>\n",
			"url": "https://mark.biek.org//2022/07/advice-from-an-old-head",
			"title": "Advice from a software-development old head",
			"summary": "<p>After 25 years working as a software developer, I've been thinking a lot about the things that have been the most important over the course of my career. The interesting pattern I've noticed is that most of these things aren't unique to software development at all. You could easily apply them to just about anything.</p>\n<h1>Curiosity is your friend</h1>\n<ul>\n<li>Always wonder about things.</li>\n<li>Wonder how things work.</li>\n<li>Wonder <em>why</em> they work the way they do.</li>\n<li>Explore! Try to see things that other people aren't seeing.</li>\n</ul>\n<h1>Never stop learning</h1>\n<ul>\n<li>Fall in love with learning new things.</li>\n<li>Fall in love with learning more about things you already know.</li>\n<li>Get good at the process of learning so you can learn more things faster!</li>\n</ul>\n<h1>Communication is key</h1>\n<ul>\n<li>We don't do work in a vacuum. Being able to communicate your ideas to others is paramount.</li>\n<li>Learn to writing clearly and simply.\n<ul>\n<li>The <a href=\"https://fieldguide.automattic.com/the-automattic-style-guide/\">Automattic Style Guide</a> is a good compilation of resources.</li>\n</ul>\n</li>\n<li>\n<blockquote>\n<p>\"Programs are meant to be read by humans and only incidentally for computers to execute.\" - Donald Knuth</p>\n</blockquote>\n</li>\n</ul>\n<h1>Master your tools</h1>\n<ul>\n<li>Learn the ins and outs and full capabilities of your tools. Nothing makes work faster than efficient tool use.\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs\">Visual Studio Code docs</a></li>\n<li><a href=\"https://vimhelp.org/\">Vim help</a></li>\n</ul>\n</li>\n<li>Collect keyboard shortcuts for all the programs you use. Make it a game where you lose points when you touch the mouse. Write the shortcuts on post-its stuck to your monitor to help you remember.\n<ul>\n<li><a href=\"https://www.alfredapp.com/\">AlfredApp</a></li>\n<li><a href=\"https://support.apple.com/en-us/HT201236\">OSX shortcuts</a></li>\n</ul>\n</li>\n<li>Get good at the command-line. At a minimum, get comfortable manipulating files and strings from the cli.\n<ul>\n<li><a href=\"https://ubuntu.com/tutorials/command-line-for-beginners#1-overview\">Beginner's guide to the cli</a></li>\n</ul>\n</li>\n</ul>\n<h1>Get good at searching</h1>\n<p>There's to much stuff to remember so you're going to spend a lot of time trying to find what you need.</p>\n<h2>Searching for information</h2>\n<p>Get good at searching the Internet.</p>\n<ul>\n<li>You need to be able to track down the source of error messages.</li>\n<li>There will be things you don't know how to do and other people have already done them. Learn how to find those details!</li>\n</ul>\n<h2>Searching Code</h2>\n<p>How do you know where the code you need to change lives? You have to search for it!</p>\n<ul>\n<li>Your editor probably has all kinds of fancy search tools. Learn how to use them.</li>\n<li>Learn cli search tools (<code>grep</code>, <code>ack</code>, <code>ripgrep</code>, etc). There are lots of them.\n<ul>\n<li><a href=\"https://beyondgrep.com/\">ack</a></li>\n</ul>\n</li>\n<li>Learn enough regex to make your searches more efficient.\n<ul>\n<li><a href=\"https://regextutorial.org/\">Regex tutorial</a></li>\n</ul>\n</li>\n<li>Learn how to trace your way through code. Maybe you need to change the functionality of a button and you don't know where the code is. Start by finding where the button markup is, then trace your way back up through the code.</li>\n</ul>\n",
			"date_modified": "2022-07-14T15:06:00.000Z",
			"author": {
				"name": "Mark Biek",
				"url": "https://mark.biek.org/"
			}
		},
		{
			"id": "https://mark.biek.org//2022/02/php-launch-vim-read-output",
			"content_html": "<p>I've always wondered if it's possible to write a PHP command-line script that launches an editor, lets the user type something, then reads in whatever they type (like a git commit log message).</p>\n<p>Turns out, it's pretty straightforward with the <a href=\"https://symfony.com/doc/current/components/process.html#using-php-streams-as-the-standard-input-of-a-process\">Symfony Process</a> component.</p>\n<pre><code>&#x3C;?php\n\nrequire_once __DIR__ . '/vendor/autoload.php';\n\nuse Symfony\\Component\\Process\\Process;\n\n// Create a temporary file so the user has something to type into\n$edit_file = tempnam(sys_get_temp_dir(), \"_log\");\n\n// Attempt to load the user's EDITOR from the environment. Default to vim otherwise.\n$editor = getenv('EDITOR') !== false ? getenv('EDITOR') : 'vim';\n\n// Launch the editor and open the temp file\n// This will pause execution of our script until they save and close the editor.\n$process = new Process(['vim', $edit_file]);\n$process->setTty(true);\n$process->run();\n\n// Read back the data they entered.\n$data = file_get_contents($edit_file);\necho \"$data\\n\";\n\n// Clean up after ourselves.\nunlink($edit_file);\n</code></pre>\n",
			"url": "https://mark.biek.org//2022/02/php-launch-vim-read-output",
			"title": "Launching vim from a PHP cli app and reading the output.",
			"summary": "<p>I've always wondered if it's possible to write a PHP command-line script that launches an editor, lets the user type something, then reads in whatever they type (like a git commit log message).</p>\n<p>Turns out, it's pretty straightforward with the <a href=\"https://symfony.com/doc/current/components/process.html#using-php-streams-as-the-standard-input-of-a-process\">Symfony Process</a> component.</p>\n<pre><code>&#x3C;?php\n\nrequire_once __DIR__ . '/vendor/autoload.php';\n\nuse Symfony\\Component\\Process\\Process;\n\n// Create a temporary file so the user has something to type into\n$edit_file = tempnam(sys_get_temp_dir(), \"_log\");\n\n// Attempt to load the user's EDITOR from the environment. Default to vim otherwise.\n$editor = getenv('EDITOR') !== false ? getenv('EDITOR') : 'vim';\n\n// Launch the editor and open the temp file\n// This will pause execution of our script until they save and close the editor.\n$process = new Process(['vim', $edit_file]);\n$process->setTty(true);\n$process->run();\n\n// Read back the data they entered.\n$data = file_get_contents($edit_file);\necho \"$data\\n\";\n\n// Clean up after ourselves.\nunlink($edit_file);\n</code></pre>\n",
			"date_modified": "2022-02-25T15:56:00.000Z",
			"author": {
				"name": "Mark Biek",
				"url": "https://mark.biek.org/"
			}
		},
		{
			"id": "https://mark.biek.org//2021/11/using-jq-to-filter-json-by-regex",
			"content_html": "<p>If you're not already familiar with using <a href=\"https://stedolan.github.io/jq/\">jq</a> to manipulate JSON on the command-line, go download it immediately. While it can be a little tricky to learn at first, it'll make your life so much easier.</p>\n<p>For example, I recently learned how to filter a JSON result set using a regex to match the value of a particular object property.</p>\n<p>Let's say I have a JSON payload that looks like this:</p>\n<pre><code>{\n\t\"total\": 4,\n\t\"domains\": [\n\t\t{\n\t\t\t\"id\": 100,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"alice.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t},\n\t\t{\n\t\t\t\"id\": 101,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"bob.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t},\n\t\t{\n\t\t\t\"id\": 102,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"charlie.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t},\n\t\t{\n\t\t\t\"id\": 103,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"eve.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t}\n\t]\n}\n</code></pre>\n<p>It's super easy to get all of the domain objects using the jq filter <code>.domains[]</code> and it's also trivial to get at only specific fields of each domain object (eg <code>.domains[] | {id,name}</code>).</p>\n<p>Now let's say we want to only get the domain object where the name is \"charlie.com\".</p>\n<p>That's where the <a href=\"https://stedolan.github.io/jq/manual/#select(boolean_expression)\">select()</a> and <a href=\"https://stedolan.github.io/jq/manual/#test(val),test(regex;flags)\">test()</a> functions come in.</p>\n<p>We can use the following filter to accomplish üëÜÔ∏è:</p>\n<p><code>.domains[] | {id,name} | select(.name | test(\"charlie\"))</code></p>\n<p><code>select</code> takes a boolean expression and, if that expression is true, returns that particular item. Everything else is filtered out.</p>\n<p>The <code>test</code> function takes a regex (or simple string to match). In our particular case, <code>test</code> is checking against the <code>name</code> property of each object.</p>\n<p>Now let's saw only want the <code>id</code> <em>value</em> of the object that matches our test.</p>\n<p>We simply change our filter to the below:</p>\n<p><code>.domains[] | {id,name} | select(.name | test(\"charlie\")) | .id</code></p>\n",
			"url": "https://mark.biek.org//2021/11/using-jq-to-filter-json-by-regex",
			"title": "Using jq to filter JSON by regex",
			"summary": "<p>If you're not already familiar with using <a href=\"https://stedolan.github.io/jq/\">jq</a> to manipulate JSON on the command-line, go download it immediately. While it can be a little tricky to learn at first, it'll make your life so much easier.</p>\n<p>For example, I recently learned how to filter a JSON result set using a regex to match the value of a particular object property.</p>\n<p>Let's say I have a JSON payload that looks like this:</p>\n<pre><code>{\n\t\"total\": 4,\n\t\"domains\": [\n\t\t{\n\t\t\t\"id\": 100,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"alice.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t},\n\t\t{\n\t\t\t\"id\": 101,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"bob.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t},\n\t\t{\n\t\t\t\"id\": 102,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"charlie.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t},\n\t\t{\n\t\t\t\"id\": 103,\n\t\t\t\"account\": 999,\n\t\t\t\"name\": \"eve.com\",\n\t\t\t\"created\": \"2021-01-01 00:00:00\"\n\t\t}\n\t]\n}\n</code></pre>\n<p>It's super easy to get all of the domain objects using the jq filter <code>.domains[]</code> and it's also trivial to get at only specific fields of each domain object (eg <code>.domains[] | {id,name}</code>).</p>\n<p>Now let's say we want to only get the domain object where the name is \"charlie.com\".</p>\n<p>That's where the <a href=\"https://stedolan.github.io/jq/manual/#select(boolean_expression)\">select()</a> and <a href=\"https://stedolan.github.io/jq/manual/#test(val),test(regex;flags)\">test()</a> functions come in.</p>\n<p>We can use the following filter to accomplish üëÜÔ∏è:</p>\n<p><code>.domains[] | {id,name} | select(.name | test(\"charlie\"))</code></p>\n<p><code>select</code> takes a boolean expression and, if that expression is true, returns that particular item. Everything else is filtered out.</p>\n<p>The <code>test</code> function takes a regex (or simple string to match). In our particular case, <code>test</code> is checking against the <code>name</code> property of each object.</p>\n<p>Now let's saw only want the <code>id</code> <em>value</em> of the object that matches our test.</p>\n<p>We simply change our filter to the below:</p>\n<p><code>.domains[] | {id,name} | select(.name | test(\"charlie\")) | .id</code></p>\n",
			"date_modified": "2021-11-17T16:04:00.000Z",
			"author": {
				"name": "Mark Biek",
				"url": "https://mark.biek.org/"
			}
		},
		{
			"id": "https://mark.biek.org//2021/09/making-a-typescript-property-dependent-on-the-value-of-another-property",
			"content_html": "<p>I recently ran into a situation where I wanted Typescript to require a certain property, only if the <em>value</em> of a different property was a specific value.</p>\n<p>With some help from a <a href=\"https://github.com/acrobertson\">coworker</a> and some additional reading, I found a solution that uses a combination of <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types\">Union</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types\">Intersection</a> types.</p>\n<p>Let's say I have a couple of contrived objects like this</p>\n<pre><code>let a = {\n\ttitle: 'A title';\n\ttype: 'value';\n\tvalue: 'This is a value';\n};\n\nlet b = {\n\ttitle: 'Another title';\n\ttype: 'nothing';\n};\n</code></pre>\n<p>What I want is for the property <code>value</code> to only be required when <code>type == 'value'</code>.</p>\n<p>To start, I declare a base type which contains the properties I always want to have:</p>\n<pre><code>type Base = {\n\ttitle: string;\n\ttype: 'value' | 'nothing';\n}\n</code></pre>\n<p>Then I can declare intersection types for each possible value of the <code>type</code> property:</p>\n<pre><code>type ValueType = Base &#x26; {\n\ttype: 'value';\n\tvalue: string;\n};\n\ntype NothingType = Base &#x26; {\n\ttype: 'nothing';\n\tvalue: never;\n}\n</code></pre>\n<p>For <code>ValueType</code>, we inherit all of the type properties of the <code>Base</code> type but require a string <code>value</code> property when <code>type == 'value'</code>;</p>\n<p>For <code>NothingType</code>, we also inherit everything from <code>Base</code> but specify that the <code>value</code> property should never exist.</p>\n<p>Then we create a union type that we'll use on the actual objects we declare:</p>\n<pre><code>type MyType = ValueType | NothingType;\n</code></pre>\n<p>Here are examples of objects that pass all of our type checks:</p>\n<pre><code>let good1: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'value',\n\tvalue: 'a value'\n};\n\nlet good2: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'nothing',\n};\n</code></pre>\n<p>And here are some objects that throw type errors:</p>\n<pre><code>let bad1: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'value',\n\t// Here, we're missing the `value` property\n};\n\nlet bad2: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'nothing',\n\tvalue: 'another value'\n\t// Here, we shouldn't have a `value` property at all\n};\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/C4TwDgpgBAQghgZ2gXigbwFAEhgEtgA2EAXFAsAE64B2A5gNzaiSkDkAbnAQK4StQAfKK2oB7YAAsatVowC+GDM2gA1LrwAq4FLETQAZOiba2nHn0ZYzvUuSp15jJdqgA5cVLpbIUVPCRQhpg4JsJiktKy2NYkUNQQ7BAU8orKUACyIN46aubZgm4e0tlORMBQtKKiACakmfmowXiEsawaUghQuJ1wFVXVUKIARgBWEADGwKwANMYswjEz0eqtvYsYcqUQ5UNw1QCMdVkujUz4RGzt3V09fTWDoxNTsyHzHCtLm4plULvVAExHBpGHDnVpXTrXXqVe7DMaTJavVrhTwyF4xNhwFFJKDrTZAA\">Typescript playground example</a></p>\n<h2>Update</h2>\n<p>The aforementioned <a href=\"https://github.com/acrobertson\">coworker</a> also showed me a nice way to do the same as the above using Interfaces which gives you slightly nicer error messages.</p>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgEJwM4oN4CgCQYwYANhAFzIZhSgDmA3AWAJ4AOFyA5AG5wkBXCF2QAfbiAD2YABb0uTAL65coSLEQoAavyEAVdiggAPSCAAmGNJhzNDlXruFN8fQZ2q0QjXMtXhoeCRkADlpOW8DDmQTM0trLGQ8QntuNyEFAnTOEAgeaCUVVmiAWRYolABeZB13CrFQ8PoKplwyMGQ6SUlzSjL66uSiUk4uPTkrYCs4Tu7zZEkAIwArCAQwLgAaOw4HbK2spwcZ-d9WtogOxbhzAEY+8sNkQeZiMgdxqeQvma6ehZWaw22xSuzSTgOila7WQ13MACYHgMkq8Rh8Jt9prN-ktVusDqDRlJZPIQdljsSZNBkKcoUA\">Typescript playground example</a></p>\n",
			"url": "https://mark.biek.org//2021/09/making-a-typescript-property-dependent-on-the-value-of-another-property",
			"title": "Making a Typescript property dependent on the value of another property",
			"summary": "<p>I recently ran into a situation where I wanted Typescript to require a certain property, only if the <em>value</em> of a different property was a specific value.</p>\n<p>With some help from a <a href=\"https://github.com/acrobertson\">coworker</a> and some additional reading, I found a solution that uses a combination of <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types\">Union</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types\">Intersection</a> types.</p>\n<p>Let's say I have a couple of contrived objects like this</p>\n<pre><code>let a = {\n\ttitle: 'A title';\n\ttype: 'value';\n\tvalue: 'This is a value';\n};\n\nlet b = {\n\ttitle: 'Another title';\n\ttype: 'nothing';\n};\n</code></pre>\n<p>What I want is for the property <code>value</code> to only be required when <code>type == 'value'</code>.</p>\n<p>To start, I declare a base type which contains the properties I always want to have:</p>\n<pre><code>type Base = {\n\ttitle: string;\n\ttype: 'value' | 'nothing';\n}\n</code></pre>\n<p>Then I can declare intersection types for each possible value of the <code>type</code> property:</p>\n<pre><code>type ValueType = Base &#x26; {\n\ttype: 'value';\n\tvalue: string;\n};\n\ntype NothingType = Base &#x26; {\n\ttype: 'nothing';\n\tvalue: never;\n}\n</code></pre>\n<p>For <code>ValueType</code>, we inherit all of the type properties of the <code>Base</code> type but require a string <code>value</code> property when <code>type == 'value'</code>;</p>\n<p>For <code>NothingType</code>, we also inherit everything from <code>Base</code> but specify that the <code>value</code> property should never exist.</p>\n<p>Then we create a union type that we'll use on the actual objects we declare:</p>\n<pre><code>type MyType = ValueType | NothingType;\n</code></pre>\n<p>Here are examples of objects that pass all of our type checks:</p>\n<pre><code>let good1: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'value',\n\tvalue: 'a value'\n};\n\nlet good2: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'nothing',\n};\n</code></pre>\n<p>And here are some objects that throw type errors:</p>\n<pre><code>let bad1: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'value',\n\t// Here, we're missing the `value` property\n};\n\nlet bad2: MyType = {\n\ttitle: 'This is a good object',\n\ttype: 'nothing',\n\tvalue: 'another value'\n\t// Here, we shouldn't have a `value` property at all\n};\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/C4TwDgpgBAQghgZ2gXigbwFAEhgEtgA2EAXFAsAE64B2A5gNzaiSkDkAbnAQK4StQAfKK2oB7YAAsatVowC+GDM2gA1LrwAq4FLETQAZOiba2nHn0ZYzvUuSp15jJdqgA5cVLpbIUVPCRQhpg4JsJiktKy2NYkUNQQ7BAU8orKUACyIN46aubZgm4e0tlORMBQtKKiACakmfmowXiEsawaUghQuJ1wFVXVUKIARgBWEADGwKwANMYswjEz0eqtvYsYcqUQ5UNw1QCMdVkujUz4RGzt3V09fTWDoxNTsyHzHCtLm4plULvVAExHBpGHDnVpXTrXXqVe7DMaTJavVrhTwyF4xNhwFFJKDrTZAA\">Typescript playground example</a></p>\n<h2>Update</h2>\n<p>The aforementioned <a href=\"https://github.com/acrobertson\">coworker</a> also showed me a nice way to do the same as the above using Interfaces which gives you slightly nicer error messages.</p>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgEJwM4oN4CgCQYwYANhAFzIZhSgDmA3AWAJ4AOFyA5AG5wkBXCF2QAfbiAD2YABb0uTAL65coSLEQoAavyEAVdiggAPSCAAmGNJhzNDlXruFN8fQZ2q0QjXMtXhoeCRkADlpOW8DDmQTM0trLGQ8QntuNyEFAnTOEAgeaCUVVmiAWRYolABeZB13CrFQ8PoKplwyMGQ6SUlzSjL66uSiUk4uPTkrYCs4Tu7zZEkAIwArCAQwLgAaOw4HbK2spwcZ-d9WtogOxbhzAEY+8sNkQeZiMgdxqeQvma6ehZWaw22xSuzSTgOila7WQ13MACYHgMkq8Rh8Jt9prN-ktVusDqDRlJZPIQdljsSZNBkKcoUA\">Typescript playground example</a></p>\n",
			"date_modified": "2021-09-30T00:42:00.000Z",
			"author": {
				"name": "Mark Biek",
				"url": "https://mark.biek.org/"
			}
		}
	]
}